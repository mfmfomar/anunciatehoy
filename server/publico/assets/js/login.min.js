$(document).ready(function(){$("#formLogin").submit(function(o){return app.login(),!1})});var api="/api/signin",app=new Vue({el:"#formLogin",created:function(){},data:{user:{email:"",password:""}},methods:{login:function(){var o=$("#formLogin");!1===o[0].checkValidity()?(event.preventDefault(),event.stopPropagation()):(console.log("login..."),this.$http.post(api,this.user).then(function(o){console.log("post"),console.log(o),o.data.token&&(console.log("token"),localStorage.setItem("token",o.data.token),localStorage.setItem("user",JSON.stringify(o.data.usuario)),window.location.href="/usuario")},function(o){var a=o.body.message;switch(o.body.code){case 0:alert(a);break;case 1:$("#myModalLogin_errUsuario").modal("toggle");break;case 3:this.user.password="",$("#myModalLogin_errUsuariopassword").modal("toggle");break;case 4:$("#myModalLogin_errUsuarioactivado").modal("toggle");break;default:console.log(o.body)}}).catch(function(o){console.log("Caught",o)})),o.addClass("was-validated")}}});